#include "src/core/Position.h"
#include "src/core/types.h"

class Evaluator {
   private:
    // clang-format off
    static constexpr Eval pieceSquareTables[12][64] = {
        {// WP
         +00, +00, +00, +00, +00, +00, +00, +00,
         +50, +50, +50, +50, +50, +50, +50, +50,
         +10, +10, +20, +30, +30, +20, +10, +10,
         +05, +05, +10, +25, +25, +10, +05, +05,
         +00, +00, +00, +20, +20, +00, +00, +00,
         +05, -05, -10, +00, +00, -10, -05, +05,
         +05, +10, +10, -20, -20, +10, +10, +05,
         +00, +00, +00, +00, +00, +00, +00, +00},
        {// WN
         -50, -40, -30, -30, -30, -30, -40, -50,
         -40, -20, +00, +00, +00, +00, -20, -40,
         -30, +00, +10, +15, +15, +10, +00, -30,
         -30, +05, +15, +20, +20, +15, +05, -30,
         -30, +00, +15, +20, +20, +15, +00, -30,
         -30, +05, +10, +15, +15, +10, +05, -30,
         -40, -20, +00, +05, +05, +00, -20, -40,
         -50, -40, -30, -30, -30, -30, -40, -50},
        {// WB
         -20, -10, -10, -10, -10, -10, -10, -20,
         -10, +00, +00, +00, +00, +00, +00, -10,
         -10, +00, +05, +10, +10, +05, +00, -10,
         -10, +05, +05, +10, +10, +05, +05, -10,
         -10, +00, +10, +10, +10, +10, +00, -10,
         -10, +10, +10, +10, +10, +10, +10, -10,
         -10, +05, +00, +00, +00, +00, +05, -10,
         -20, -10, -10, -10, -10, -10, -10, -20},
        {// WR
         +00, +00, +00, +00, +00, +00, +00, +00,
         +05, +10, +10, +10, +10, +10, +10, +05,
         -05, +00, +00, +00, +00, +00, +00, -05,
         -05, +00, +00, +00, +00, +00, +00, -05,
         -05, +00, +00, +00, +00, +00, +00, -05,
         -05, +00, +00, +00, +00, +00, +00, -05,
         -05, +00, +00, +00, +00, +00, +00, -05,
         +00, +00, +00, +05, +05, +00, +00, +00},
        {// WQ
         -15, -10, -10, -05, -05, -10, -10, -15,
         -10, +05, +00, +00, +00, +00, +00, -10,
         -10, +05, +05, +05, +05, +05, +00, -10,
         +00, +00, +05, +05, +05, +05, +00, -05,
         -05, +00, +05, +05, +05, +05, +00, -05,
         -10, +00, +05, +05, +05, +05, +00, -10,
         -10, +00, +00, +00, +00, +00, +00, -10,
         -15, -10, -10, -05, -05, -10, -10, -15},
        {// WK
         -30, -40, -40, -50, -50, -40, -40, -30,
         -30, -40, -40, -50, -50, -40, -40, -30,
         -30, -40, -40, -50, -50, -40, -40, -30,
         -30, -40, -40, -50, -50, -40, -40, -30,
         -20, -30, -30, -40, -40, -30, -30, -20,
         -10, -20, -20, -20, -20, -20, -20, -10,
         +20, +20, +00, +00, +00, +00, +20, +20,
         +20, +30, +10, +00, +00, +10, +30, +20},
        {// BP
         +00, +00, +00, +00, +00, +00, +00, +00,
         +05, +10, +10, -20, -20, +10, +10, +05,
         +05, -05, -10, +00, +00, -10, -05, +05,
         +00, +00, +00, +20, +20, +00, +00, +00,
         +05, +05, +10, +25, +25, +10, +05, +05,
         +10, +10, +20, +30, +30, +20, +10, +10,
         +50, +50, +50, +50, +50, +50, +50, +50,
         +00, +00, +00, +00, +00, +00, +00, +00},
        {// BN
         -50, -40, -30, -30, -30, -30, -40, -50,
         -40, -20, +00, +05, +05, +00, -20, -40,
         -30, +05, +10, +15, +15, +10, +05, -30,
         -30, +00, +15, +20, +20, +15, +00, -30,
         -30, +05, +15, +20, +20, +15, +05, -30,
         -30, +00, +10, +15, +15, +10, +00, -30,
         -40, -20, +00, +00, +00, +00, -20, -40,
         -50, -40, -30, -30, -30, -30, -40, -50},
        {// BB
         -20, -10, -10, -10, -10, -10, -10, -20,
         -10, +05, +00, +00, +00, +00, +05, -10,
         -10, +10, +10, +10, +10, +10, +10, -10,
         -10, +00, +10, +10, +10, +10, +00, -10,
         -10, +05, +05, +10, +10, +05, +05, -10,
         -10, +00, +05, +10, +10, +05, +00, -10,
         -10, +00, +00, +00, +00, +00, +00, -10,
         -20, -10, -10, -10, -10, -10, -10, -20},
        {// BR
         +00, +00, +00, +05, +05, +00, +00, +00,
         -05, +00, +00, +00, +00, +00, +00, -05,
         -05, +00, +00, +00, +00, +00, +00, -05,
         -05, +00, +00, +00, +00, +00, +00, -05,
         -05, +00, +00, +00, +00, +00, +00, -05,
         -05, +00, +00, +00, +00, +00, +00, -05,
         +05, +10, +10, +10, +10, +10, +10, +05,
         +00, +00, +00, +00, +00, +00, +00, +00},
        {// BQ
         -15, -10, -10, -05, -05, -10, -10, -15,
         -10, +05, +00, +00, +00, +00, +00, -10,
         -10, +05, +05, +05, +05, +05, +00, -10,
         +00, +00, +05, +05, +05, +05, +00, -05,
         -05, +00, +05, +05, +05, +05, +00, -05,
         -10, +00, +05, +05, +05, +05, +00, -10,
         -10, +00, +00, +00, +00, +00, +00, -10,
         -15, -10, -10, -05, -05, -10, -10, -15},
        {// BK
         +20, +30, +10, +00, +00, +10, +30, +20,
         +20, +20, +00, +00, +00, +00, +20, +20,
         -10, -20, -20, -20, -20, -20, -20, -10,
         -20, -30, -30, -40, -40, -30, -30, -20,
         -30, -40, -40, -50, -50, -40, -40, -30,
         -30, -40, -40, -50, -50, -40, -40, -30,
         -30, -40, -40, -50, -50, -40, -40, -30,
         -30, -40, -40, -50, -50, -40, -40, -30}
    };
    // clang-format on

   public:
    constexpr Evaluator() {}

    Eval run(Position &pos);

    Eval getEval(Position &pos);
};
